{
  "pr_data": {
    "number": 456,
    "title": "Fix critical bug",
    "state": "open",
    "head": {
      "sha": "def456abc789012345678901234567890abcdef12",
      "ref": "fix/critical-bug",
      "committed_at": "2024-01-15T14:00:00Z"
    },
    "base": {
      "ref": "main"
    },
    "updated_at": "2024-01-15T14:30:00Z",
    "user": {
      "login": "developer"
    }
  },
  "comments": [
    {
      "id": 2001,
      "user": {
        "login": "coderabbitai[bot]"
      },
      "body": "_‚ö†Ô∏è Potential issue_ | _üî¥ Critical_\n\nSecurity vulnerability detected: Missing input validation.\n\nThe user input is passed directly to the database query without sanitization.\n\n```python\n# Bad - vulnerable to SQL injection\nquery = f\"SELECT * FROM users WHERE id = {user_id}\"\n\n# Good - use parameterized queries\nquery = \"SELECT * FROM users WHERE id = %s\"\ncursor.execute(query, (user_id,))\n```\n\n<details>\n<summary>Related documentation</summary>\n\nSee OWASP SQL Injection Prevention Cheat Sheet.\n</details>",
      "path": "src/database/queries.py",
      "line": 42,
      "in_reply_to_id": null,
      "created_at": "2024-01-15T14:15:00Z"
    },
    {
      "id": 2002,
      "user": {
        "login": "coderabbitai[bot]"
      },
      "body": "_‚ö†Ô∏è Potential issue_ | _üü† Major_\n\nMissing error handling for database connection failures.\n\nThe connection might fail silently without proper exception handling.\n\n```python\ntry:\n    connection = get_db_connection()\nexcept DatabaseError as e:\n    logger.error(f\"Database connection failed: {e}\")\n    raise\n```",
      "path": "src/database/connection.py",
      "line": 15,
      "in_reply_to_id": null,
      "created_at": "2024-01-15T14:16:00Z"
    },
    {
      "id": 2003,
      "user": {
        "login": "coderabbitai[bot]"
      },
      "body": "_‚ö†Ô∏è Potential issue_ | _üü° Minor_\n\nConsider using a connection pool for better performance.",
      "path": "src/database/connection.py",
      "line": 5,
      "in_reply_to_id": null,
      "created_at": "2024-01-15T14:17:00Z"
    }
  ],
  "reviews": [
    {
      "id": 3001,
      "user": {
        "login": "senior-reviewer"
      },
      "body": "Please address the security issues flagged by CodeRabbit before merging.",
      "state": "CHANGES_REQUESTED",
      "submitted_at": "2024-01-15T14:20:00Z"
    }
  ],
  "threads": [],
  "ci_status": {
    "state": "success",
    "statuses": [],
    "check_runs": [
      {
        "name": "build",
        "status": "completed",
        "conclusion": "success",
        "html_url": "https://github.com/owner/repo/actions/runs/200"
      },
      {
        "name": "test",
        "status": "completed",
        "conclusion": "success",
        "html_url": "https://github.com/owner/repo/actions/runs/201"
      }
    ]
  },
  "expected_result": {
    "status": "ACTION_REQUIRED",
    "needs_action": true,
    "actionable_count": 3,
    "priority_breakdown": {
      "critical": 1,
      "major": 1,
      "minor": 1
    }
  }
}
